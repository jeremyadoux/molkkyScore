app.controller("angular-modal-settingsGame",["$scope","GameData","$rootScope",function($scope,GameData,$rootScope){$scope.addPlayer=function(){var newPlayerName=$("#modalAddPlayers input").val();validatePlayerName(newPlayerName,$scope.players,$("#modalAddPlayers .alert"),$scope.language)&&(GameData.addPlayerToGame(newPlayerName),infoMessage($("#modalAddPlayers .alert"),newPlayerName+" "+eval("addPlayers."+$scope.language+".added")),$scope.placeholder=eval("addPlayers."+$scope.language+".placeholder")+" "+($scope.players.length+1),$("#modalAddPlayers input").val(""),$("#modalAddPlayers input").blur())},$scope.shufflePlayers=function(){for(var a,b,c=$scope.players.length;0!==c;)b=Math.floor(Math.random()*c),c-=1,a=$scope.players[c],$scope.players[c]=$scope.players[b],$scope.players[b]=a;GameData.resetPlayerIndexes()},$scope.btnReady=function(){$scope.players.length>1?($("#modalAddPlayers").modal("hide"),addNewPlayerNamesToLocalStorage($scope.players),$(".loading-title").text(eval("loading."+$scope.language+".firstGame")),$(".loader-container").show(),setTimeout(function(){$(".loader-container").hide(),$rootScope.$broadcast("initializeGameBoard")},loadingTime)):warn($("#modalAddPlayers .alert"),eval("warnings.playerName."+$scope.language+".tooFew"))},$scope.btnRemovePlayer=function(index){$scope.players.splice(index,1),$scope.placeholder=eval("addPlayers."+$scope.language+".placeholder")+" "+($scope.players.length+1),GameData.resetPlayerIndexes()},$scope.$on("initializeSettingsGame",function(){window.localStorage?localStorage.getItem("settings")?($scope.settings=JSON.parse(localStorage.getItem("settings")),GameData.setMaxPointsSetting($scope.settings.maxPoints),GameData.setMissesSetting($scope.settings.misses)):($scope.settings=GameData.getSettings(),localStorage.setItem("settings",JSON.stringify($scope.settings))):$scope.settings=GameData.getSettings(),initializeSettingsGameModal($scope.settings)})}]);